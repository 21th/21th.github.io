(function(t){function e(e){for(var n,i,a=e[0],d=e[1],c=e[2],l=0,f=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var d=r[a];0!==o[d]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={app:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],d=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var u=d;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"34ec":function(t,e,r){"use strict";var n=r("f3de"),o=r.n(n);o.a},"4f86":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"content"},[t.gameIsOver?t._e():r("WordGenerator",{ref:"wordComponent"}),t.gameIsOver?r("ResultTable"):t._e(),t.gameIsOver?t._e():r("button",{staticClass:"btn btn-give-up",on:{click:t.finish}},[t._v("Сдаться")])],1),r("transition",{attrs:{name:"modal"}},[t.done?r("div",{staticClass:"modal"},[r("div",{staticClass:"modal-content"},[r("p",[t._v("Вы выиграли! Повторить?")]),r("button",{staticClass:"btn btn-replay",on:{click:t.getNewWord}},[t._v("Конечно!")]),r("button",{staticClass:"btn",on:{click:t.finish}},[t._v("Я уже устал")])])]):t._e()])],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("img",{attrs:{src:t.imageUrl?t.imageUrl:r("cf05"),alt:"vue"}}),t.isLoading?n("div",{staticClass:"lds-roller"},[n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div"),n("div")]):t._e(),n("div",{staticClass:"word-sequence"},[n("draggable",t._b({on:{change:t.compareWords,start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}},"draggable",t.dragOptions,!1),[n("transition-group",{staticClass:"word-sequence",attrs:{type:"transition",name:t.drag?null:"word-list"}},t._l(t.word,function(e){return n("div",{key:e.id,staticClass:"letter"},[t._v(t._s(e.letter))])}),0)],1)],1)])},a=[],d=(r("5df3"),r("1c4c"),r("7f7f"),r("310e")),c=r.n(d),u={name:"WordGenerator",components:{draggable:c.a},data:function(){return{word:[],wordId:0,text:"",imageUrl:null,timer:null,runtime:0,isLoading:!1,drag:!1}},methods:{newWord:function(){var t=this;this.isLoading=!0,this.word=[],this.wordId=this.getRandomId(),this.$store.dispatch("GET_WORD",this.wordId).then(function(e){t.isLoading=!1,t.text=e.data.data.name.toUpperCase(),t.imageUrl=e.data.data.img_src;for(var r=0;r<t.text.length;r+=1)t.word.push({id:r,letter:t.text[r]});t.word=t.shuffleArray(t.word),t.startTimer()},function(){t.newWord()})},shuffleArray:function(t){for(var e=t,r=e.length-1;r>0;r-=1){var n=Math.floor(Math.random()*(r+1)),o=[e[n],e[r]];e[r]=o[0],e[n]=o[1]}return e},startTimer:function(){var t=this;clearInterval(this.timer),this.runtime=0,this.timer=setInterval(function(){t.runtime+=1},1e3)},getRandomId:function(){var t=2,e=1368,r=Math.floor(t+Math.random()*(e+1-t));return this.$store.state.words.some(function(t){return t.wordId===r})&&this.getRandomId(),r},compareWords:function(){Array.from(this.word,function(t){return t.letter}).join("")===this.text&&(this.$store.commit("ADD_WORD",{wordId:this.wordId,runtime:this.runtime}),this.$store.commit("OPEN_MODAL"),clearInterval(this.timer))}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},mounted:function(){this.newWord()}},l=u,f=(r("34ec"),r("2877")),m=Object(f["a"])(l,i,a,!1,null,"9fea6210",null),h=m.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"result-content"},[r("table",{staticClass:"table"},[r("thead",[r("tr",[r("th",{on:{click:t.sortId}},[t._v("\n          № "),"idAsc"===t.sorted?r("span",[t._v("↑")]):t._e(),"idDesc"===t.sorted?r("span",[t._v("↓")]):t._e()]),r("th",{on:{click:t.sortName}},[t._v("\n          Слово "),"nameAsc"===t.sorted?r("span",[t._v("↑")]):t._e(),"nameDesc"===t.sorted?r("span",[t._v("↓")]):t._e()]),r("th",{on:{click:t.sortTime}},[t._v("\n          Время, с "),"timeAsc"===t.sorted?r("span",[t._v("↑")]):t._e(),"timeDesc"===t.sorted?r("span",[t._v("↓")]):t._e()])])]),r("transition-group",{attrs:{tag:"tbody",name:"word-list"}},t._l(t.words,function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.id))]),r("td",[t._v(t._s(e.word))]),r("td",[t._v(t._s(e.runtime))])])}),0)],1),t.words.length?t._e():r("p",[t._v("Вы ничего не угадали :(")]),r("button",{staticClass:"btn btn-replay",on:{click:function(e){return t.$store.commit("CLEAR_ALL")}}},[t._v("Начать заново")])])},v=[],w=(r("55dd"),{name:"ResultTable",data:function(){return{words:[],sorted:""}},methods:{sortId:function(){"idAsc"===this.sorted?(this.words.sort(function(t,e){return t.id-e.id}),this.sorted="idDesc"):(this.words.sort(function(t,e){return e.id-t.id}),this.sorted="idAsc")},sortName:function(){"nameAsc"===this.sorted?(this.words.sort(function(t,e){return t.word<e.word?-1:t.word>e.word?1:0}),this.sorted="nameDesc"):(this.words.sort(function(t,e){return e.word<t.word?-1:e.word>t.word?1:0}),this.sorted="nameAsc")},sortTime:function(){"timeAsc"===this.sorted?(this.words.sort(function(t,e){return t.runtime-e.runtime}),this.sorted="timeDesc"):(this.words.sort(function(t,e){return e.runtime-t.runtime}),this.sorted="timeAsc")}},mounted:function(){this.words=this.$store.state.words}}),_=w,g=(r("c962"),Object(f["a"])(_,p,v,!1,null,"0c13aa20",null)),b=g.exports,O={name:"app",components:{WordGenerator:h,ResultTable:b},data:function(){return{}},methods:{getNewWord:function(){this.$refs.wordComponent.newWord(),this.$store.commit("CLOSE_MODAL")},finish:function(){this.$store.commit("CLOSE_MODAL"),this.$store.commit("GAME_IS_OVER")},startOver:function(){}},computed:{done:function(){return this.$store.state.done},gameIsOver:function(){return this.$store.state.gameIsOver}}},y=O,A=(r("5c0b"),Object(f["a"])(y,o,s,!1,null,null,null)),I=A.exports,C=r("2f62"),D=r("bc3a"),W=r.n(D);n["a"].use(C["a"]);var E=new C["a"].Store({state:{words:[],currentWord:"",done:!1,gameIsOver:!1},mutations:{SAVE_WORD:function(t,e){t.currentWord=e},ADD_WORD:function(t,e){t.words.push({id:t.words.length,wordId:e.wordId,runtime:e.runtime,word:t.currentWord})},CLOSE_MODAL:function(t){t.done=!1},OPEN_MODAL:function(t){t.done=!0},GAME_IS_OVER:function(t){t.gameIsOver=!0},CLEAR_ALL:function(t){t.words=[],t.currentWord="",t.done=!1,t.gameIsOver=!1}},actions:{GET_WORD:function(t,e){return new Promise(function(r,n){W.a.get("https://apidir.pfdo.ru/v1/directory-program-activities/".concat(e)).then(function(e){e.data.data&&10===e.data.data.status?(console.log(e.data.data.name),t.commit("SAVE_WORD",e.data.data.name),r(e)):n(new Error("Не найдено"))},function(t){console.error("Rejected:",t)})})}}});n["a"].config.productionTip=!1,new n["a"]({store:E,render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("e332"),o=r.n(n);o.a},c962:function(t,e,r){"use strict";var n=r("4f86"),o=r.n(n);o.a},cf05:function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"},e332:function(t,e,r){},f3de:function(t,e,r){}});
//# sourceMappingURL=app.b3181528.js.map